<app-custom-toolbar [title]="'Finance &gt; Invoices'" [showBackButton]="true" [showMenuButton]="false"
  [showThreeDots]="true" [backUrl]="'/FinancialsPage'">
</app-custom-toolbar>

<ion-content fullscreen>
  <div style="height: 100vh;">
    <!-- Filter Results Card -->
    <ion-card class="filter-card">
      <ion-card-content>
        <h3 class="filter-header">
          <ion-icon name="chevron-down-outline"></ion-icon> Filter Results
        </h3>

        <ion-row class="ppmy2">
          <ion-col class="dh dv" [style.background]="showFromDatePicker ? '#D6E4FF' : '#FFFFFF'" size="5.9"
            style="width: 182px; height: 45; background: #FFFFFF; border: 0.5px solid #E4E4E4; border-radius: 10px;">
            <ion-row class="full-width">
              <ion-col (click)="toggleFromDatePicker()" size="10" style="display: flex; align-items: center;">
                <ion-label *ngIf="!selectedFromDate"
                  style="font-family: inherit, sans-serif; font-size: 12px; color: #848484; font-weight: 700; line-height: 16.94px; text-align: left;">
                  Select From Date
                </ion-label>
                <ion-label *ngIf="selectedFromDate"
                  style="font-family: inherit, sans-serif; font-size: 14px; font-weight: 700; line-height: 16.94px; text-align: left;">
                  {{ selectedFromDate | date: 'MMM dd, yyyy' }}
                </ion-label>
              </ion-col>
              <ion-col size="2" style="display: flex; align-items: center; justify-content: end;">
                <ion-icon name="calendar-clear-outline" [style.color]="showFromDatePicker ? '#1E90FF' : '#000000'"
                  style="font-size: 18px; cursor: pointer;" (click)="toggleFromDatePicker()">
                </ion-icon>
              </ion-col>
            </ion-row>
          </ion-col>
          <ion-col class="ppp0" size="0.2"></ion-col>
          <!-- To Date -->
          <ion-col class="dh dv" size="5.9" [style.background]="showToDatePicker ? '#D6E4FF' : '#FFFFFF'"
            style="width: 182px; height: 45px; border: 0.5px solid #E4E4E4; border-radius: 10px;">
            <ion-row class="full-width">
              <ion-col (click)="toggleToDatePicker()" size="10" style="display: flex; align-items: center;">
                <ion-label *ngIf="!selectedToDate"
                  style="font-family: inherit, sans-serif; font-size: 12px; color: #848484; font-weight: 700; line-height: 16.94px; text-align: left;">
                  Select To Date
                </ion-label>
                <ion-label *ngIf="selectedToDate"
                  style="font-family: inherit, sans-serif; font-size: 14px; font-weight: 700; line-height: 16.94px; text-align: left;">
                  {{ selectedToDate | date: 'MMM dd, yyyy' }}
                </ion-label>
              </ion-col>
              <ion-col size="2" style="display: flex; align-items: center; justify-content: end;">
                <ion-icon name="calendar-clear-outline" [style.color]="showToDatePicker ? '#1E90FF' : '#000000'"
                  style="font-size: 18px; cursor: pointer;" (click)="toggleToDatePicker()">
                </ion-icon>
              </ion-col>
            </ion-row>

          </ion-col>
          <ion-modal #fromDatePicker id="fromDatePicker" class="ion-modaldate">
            <ion-datetime presentation="date" display-format="MMM DD, YYYY" (ionChange)="updateFromDate($event)"
              *ngIf="showFromDatePicker" [showDefaultButtons]="true"
              style="font-size: 18px; opacity: 1; position: relative; width: 100%; height: auto;"></ion-datetime>
          </ion-modal>
          <ion-modal #toDatePicker id="toDatePicker" class="ion-modaldate">
            <ion-datetime presentation="date" display-format="MMM DD, YYYY" (ionChange)="updateToDate($event)"
              *ngIf="showToDatePicker" [showDefaultButtons]="true"
              style="font-size: 18px; opacity: 1; position: relative; width: 100%; height: auto;"></ion-datetime>
          </ion-modal>
        </ion-row>
        <div class="quick-filters">
          <ion-button fill="clear" class="quick-btn" [class.selected]="selectedFilter === 1"
            (click)="selectQuickFilter(1)">Last 1 month</ion-button>
          <ion-button fill="clear" class="quick-btn" [class.selected]="selectedFilter === 3"
            (click)="selectQuickFilter(3)">Last 3 months</ion-button>
          <ion-button fill="clear" class="quick-btn" [class.selected]="selectedFilter === 6"
            (click)="selectQuickFilter(6)">Last 6 months</ion-button>
        </div>
        <ion-button expand="block" class="submit-btn">Submit</ion-button>
      </ion-card-content>
    </ion-card>

    <!-- Demand Note List -->
    <ion-list style="background: #FAFBFD;" *ngIf="modification_legal_array?.length">
      <ion-item class="note-item" *ngFor="let note of modification_legal_array"
        (click)="demandnotedownload(note.documentLocation)">
        <ion-col size="2" class="dh dc pppy3">
          <div class="note-icon">
            <!-- <ion-icon style="font-size: 14px;" name="server" size="large" color="danger"></ion-icon> -->
            <img class="wdth12" src="assets/imgs/dashboard_new/demand.png" />

          </div>
        </ion-col>
        <ion-col size="5">
          <ion-row>
            <ion-label class="note-number">{{ note.finBokAccInvoiceNo }}</ion-label>
          </ion-row>
          <ion-row>
            <ion-label class="note-date">{{ note.createdDate | date: 'MMM d, yyyy' }}</ion-label>
          </ion-row>
        </ion-col>
        <ion-col size="5">
          <div class="download-btn dh">

            <ion-icon style="font-size: 20px;" name="download-outline"></ion-icon>
            Download
          </div>
        </ion-col>
      </ion-item>
    </ion-list>


    <ng-container *ngIf="!modification_legal_array?.length">
      <ion-card class="empty-card" mode="ios">
        <ion-card-content class="ion-text-center">
          <ion-icon name="document-text-outline" class="empty-icon" style="font-size: 48px; color: #a0a0a0;">
          </ion-icon>
          <h2 class="empty-title" style="margin-top: 10px; font-weight: 600; color: #333;">
            No Invoice Available
          </h2>
          <p class="empty-subtitle" style="color: #666; font-size: 14px;">
            Please check back later for your invoice.
          </p>
        </ion-card-content>
      </ion-card>
    </ng-container>



  </div>
</ion-content>