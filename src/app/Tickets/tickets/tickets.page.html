<style>
  .required {
  position: relative;
  right: -106px;
  top: -40px;
  color: orangered;
  font-size: 14px;
  font-weight: bold;

}
.required2 {
  position: relative;
  right: -112px;
  top: -40px;
  color: orangered;
  font-size: 14px;
  font-weight: bold;

}

ion-select.custom {

  font-style: normal;
  font-size: 14px;
  line-height: 20px;
  color: #2C4DB9;
  font-weight: 600;
  position: absolute;
  top: -23px;
}
.hdng{

    font-family: Poppins, sans-serif;
    font-weight: 700;
    font-size: 18px;
    line-height: 15.05px;
  
  }
  .ftbgrnd{
  height: 50px;
    background-color:rgb(241 241 241 / 50%);
}
.my__textoverflow {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  width: 200px;
  display: block;
}
.upload {
  position: absolute;
  left: 25.81%;
  right: 32.81%;
  top: 22.38%;
  bottom: 31.25%;
  font-size: 18px;
  color: #050e2e;
}
.hidden-file {
  visibility: hidden;
  position: absolute;
  overflow: hidden;
  width: 0px;
  height: 0px;
  border: none;
  margin: 0;
  padding: 0
}

.camera_span {
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  color: #A29EB6;
  line-height: 24px;
  position: relative;
  left: 4px;
}

.camera_upload {
  font-style: normal;
  font-weight: 500;
  font-size: 14px;
  color: #A29EB6;
  line-height: 24px;
  position: relative;
  left: 4px;
}


.has-focus {
  border: 0px solid transparent !important;
}

ion-item.item-has-focus {
  --highlight-background: transparent !important;
}

.item-inner {
  border-style: unset !important;
}

ion-item.item-has-focus {
  ion-label.label-floating {
      padding: 0px 5px;
      margin-top: -22px;
      background: var(--ion-color-light);
      color: var(--ion-color-danger);
      position: fixed;
  }
}
.ion-modal {
    --height: 100%;
    --width: 100%;
    --border-radius: 0px;
}
/* Textarea styling */
.form-textarea {
  width: 100%; /* Full width */
  min-height: 80px; /* Minimum height for the textarea */
  font-size: 14px;
  padding: 8px;
  border: 1px solid #2C4DB9; /* Light gray border */
  border-radius: 5px; /* Rounded corners */
  background-color: #ffffff; /* Slightly off-white background */
  color: #333; /* Text color */
  resize: none; /* Prevent resizing of the textarea */
}
.tlbar {
      --background:linear-gradient(90deg, #e78340 0%, #e9c832 100%);
    --color: white;
    --border-radius: 16px;
    height: 42px !important;
    width: 50%;
    justify-self: center;


}
ion-input {
  --inner-padding: 10px;
  --padding-start: 10px; /* Padding on the left */
}
.custom-placeholder-wrapper {
  position: relative;
  display: flex;
  flex-direction: column;
}

.custom-placeholder {
  position: absolute;
  top: -12px; /* Adjust based on your design */
  left: 12px; /* Adjust based on your design */
  font-size: 12px;
  color: #2C4DB9;
}

.custom-placeholder .required {
  color: orangered;
}
.custom-select-wrapper {
  position: relative;
  margin: 16px 0;
}

.custom-border {
  position: relative;
  border: 1px solid #2C4DB9;
  border-radius: 8px;
  margin-bottom: -16px; /* Adjust based on your layout */
  height: 50px;
}

.border-label {
  position: relative;
    top: -12px;
    left: 2%;
    transform: translateX(-50%);
    background: white;
    color: #2C4DB9;
    font-size: 12px;
    padding: 0 8px;
}

.select-container {
  display: flex
  ;
      align-items: center;
      padding: 8px;
      position: relative;
      top: 21px;
}
.data-column {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
  }
  
  .circle-image {
    width: 50px; /* Adjust as needed */
    height: 50px; /* Adjust as needed */
    border-radius: 50%;
    overflow: hidden;
    margin-bottom: 10px; /* Space below the image */
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .circle-image2 {
    width: 100px; /* Adjust as needed */
    height: 100px; /* Adjust as needed */
    overflow: hidden;
    margin-bottom: 10px; /* Space below the image */
    display: flex;
    justify-content: center;
    align-items: center;
  }
  

  .header-md {
    -webkit-box-shadow:none!important;
    box-shadow: none!important;
}

  .circle-image img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .announcement-details {
    margin-top: 10px; /* Space between the image and details */
    margin-bottom: 10px;

  }
  
  .announcement-name {
    font-size: 16px;
    font-weight: bold;
    margin: 0 0 5px 0; /* Space below */
  }
  
  .announcement-type {
    font-size: 14px;
    color: gray;
    margin: 0 0 5px 0; /* Space below */
  }
  
  .announcement-date {
    font-size: 12px;
    color: darkgray;
    margin: 0; /* No additional margin */
  }
  .announcement-row {
    border: 1px solid rgb(194, 193, 190); /* Orange border */
    border-radius: 10px;     /* Rounded corners */
    margin-bottom: 10px;     /* Space between rows */
  }
  
  /* Center align content in columns */
  .data-column {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .data-column2 {
    display: flex;
    justify-content: start;
    align-items: center;
  }
  .spancls {
    position: relative;
    top: -8px;
    z-index: 100000000000000000;
    left: 4px;
    /* background: #FFF; */
    padding: 4px;
    font-family: inherit;
    width: 98%;
    margin-left: 1%;
    color: #344054;
}
.field-wrapper {
  border: 1px solid #D0D5DD;
  border-radius: 5px;
  width: 98%;
  margin-left: 1%;
}
ion-select {

  font-style: normal;

  font-size: 14px;
  line-height: 20px;
  color: #9FA1A6;
  font-weight: 600;
}

ion-select::part(icon) {
  opacity: 1;
  z-index: 25000 !important;
  --content: url(/assets/images/icons/Drop_down.png)!important;
  width: 16px;
  height: 16px;
  position: absolute;
  right: 10px;
}
/* Row styling for form elements */
.form-row {
  margin-bottom: 20px; /* Space between rows */
  
}

/* Label styling */
.form-label {
  font-size: 14px;
  font-weight: bold;
  color: #333; /* Darker text color */
  margin-bottom: 8px;
  display: block; /* Ensures the label is on its own line */
}

/* Input field styling */
.form-input {
  width: 100%; /* Full width */
  height: 50px;
  font-size: 14px;
  padding: 8px;
  border: 1px solid #2C4DB9; /* Light gray border */
  border-radius: 5px; /* Rounded corners */
  background-color: #ffffff; /* Slightly off-white background */
  color: #333; /* Text color */
}

ion-toolbar {
  --background: #fff;
  --color: #000;
  font-weight: bold;
}

ion-title {
  font-size: 20px;
  font-weight: 600;
  text-align: center;
}

.required {
  color: red;
}

.custom-input {
  --highlight-color-focused: #d4ac51;
  --highlight-color-invalid: red;
  --highlight-color-valid: #d4ac51;
  border-radius: 10px;
  margin-bottom: 16px;
}

ion-select, ion-textarea {
  --padding-start: 10px;
  font-size: 15px;
}

.upload-section {
  display: flex;
  justify-content: space-between;
  margin: 10px 0;
}

.upload-box {
  flex: 0 0 48%;
  background: #fff;
  border: 1px solid #e0e0e0;
  border-radius: 12px;
  text-align: center;
  padding: 20px 10px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.upload-box ion-icon {
  font-size: 32px;
  color: #555;
  margin-bottom: 8px;
}

.upload-text {
  color: #d4ac51;
  font-weight: 500;
}

.submit-btn {
  --background: #d4ac51;
  --border-radius: 25px;
  font-weight: bold;
  font-size: 16px;
  margin-top: 20px;
}

.ticket-card {
  margin: 7px 12px 0 12px;
  padding: 10px;
  padding-bottom: 6px;
  border-radius: 10px;
  background: #fff; 
  box-shadow: 0 2px 12px 0 #f7e9ce4a;

  .ticket-header {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 1.1em;
    font-weight: 500;
  }

  .ticket-title {
    margin-top: 8px;
    font-family: 'Lato', sans-serif;
    color: #1A1A1A;
font-weight: 700;
font-style: Bold;
font-size: 14px;
line-height: 100%;
letter-spacing: 0%;
vertical-align: middle;

  }

  .ticket-dates {
    display: flex;
    gap: 25px;
    margin: 10px 0 0 0;
    font-size: 11px;

    label {
      color: #7b7b7b;
      margin-right: 2px;
      font-size: 13px;
    }
  }

  .ticket-status {
    display: flex;
    align-items: center;
    margin-top: 6px;


    span {
      font-size: 14px;
      font-weight: 700;
    }

    ion-button {
      margin-left: auto;
    }
  }
}
.inpro{
  margin-left: auto;
    color: #ED9622;
    /* // background: #ED9622; */
    border-radius: 39px;
    height: 30px;
    width: 30px;
    background: #ffffff;
}
.closed {
  margin-left: auto;
  color: #e55a5a;
  border-radius: 39px;
  height: 30px;
  width: 30px;
  background: #ffffff;
}
.reopen {
  margin-left: auto;
  color: #ffffff;
  border-radius: 39px;
  height: 30px;
  width: 30px;
  background: #ff6666;
}
.open{
  margin-left: auto;
    color: #08ada9;
    /* // background: #A8AFAA; */
    border-radius: 39px;
    height: 30px;
    width: 30px;
    background: #ffffff;

}
.new{
   margin-left: auto;
    color: #26dd5a;
    /* // background: #A8AFAA; */
    border-radius: 39px;
    height: 30px;
    width: 30px;
    background: #ffffff;
}
/* âœ… Now variations work */
.ticket-card.Inprogress {
  border: 1.4px solid #FFF6EA;
  background: #fff8e7;
}
.ticket-card.Open {
  border: 1.4px solid #e9e9e9;
  background: #eaf3ff;
}
.ticket-card.New {
  border: 1.4px solid #e9e9e9;
  background: #e1ffe3;
}
.ticket-card.Closed {
  border: 1.4px solid #e9f7ef;
  background: #e5e5e5;
}
.ticket-card.ReOpen {
  border: 1.4px solid #e9f7ef;
  background: #fa8e8e;
}
/* Text colors */
.ticket-card.ReOpen .ticket-status span {
  color: #ffffff;
  margin-left: 2%;
}
.ticket-card.Closed .ticket-status span {
  color: #e55a5a;
  margin-left: 2%;
}
.ticket-card.Inprogress .ticket-status span {
  color: #e6b23a;
  margin-left: 2%;
}
.ticket-card.Open .ticket-status span {
  color: #08ada9;
  margin-left: 2%;

}
.ticket-card.New .ticket-status span {
  color: #26dd5a;
  margin-left: 2%;

}
.ticket-id {
  font-family: 'Lato', sans-serif;
  font-weight: 600;
  font-size: 12px;
  color: #858585;
}
.bgdiv{
  background: #ffffff;
    padding: 14px;
    border-radius: 10px;
}

  ion-button.add-ticket-btn {
    /* --background: #dc3545; */
    --background: linear-gradient(90deg, #e78340 0%, #e9c832 100%);
    --background-hover: #d1a02c;
    --border-radius: 25px;
    width: 43%;
    justify-self: center;
    font-weight: 500;
    font-size: 12px;
    box-shadow: 0 2px 10px 0 #f7e9ce60;
    justify-self: center;
    position: fixed;
    top: 91%;
  }
</style>

<app-custom-toolbar [title]="'Ticketing'" [showBackButton]="true"
  [showMenuButton]="false" [showThreeDots]="false" [backUrl]="'/dashboard'">
</app-custom-toolbar>

<ion-content >
  <div class="tab-header">
      <ion-segment [(ngModel)]="activeSegment" scrollable="true">
      <ion-segment-button value="all">All</ion-segment-button>
      <ion-segment-button value="in-progress">Inprogress</ion-segment-button>
      <ion-segment-button value="open">Open</ion-segment-button>
      <ion-segment-button value="new">New</ion-segment-button>
       <ion-segment-button value="closed">Closed</ion-segment-button>
       <ion-segment-button value="reopen">ReOpen</ion-segment-button>

    </ion-segment>
  </div>
<div class="ppmb20 ppmt16">
  <!-- In Progress Ticket -->
   <ng-container *ngIf="activeSegment === 'all'">
  <div *ngFor="let ticket of ticketslist" class="ticket-card" [ngClass]="ticket.status" >
    <div class="bgdiv" (click)="gotoTicketDetails(ticket)" >
    <div class="ticket-header">
    <!-- <ion-icon name="bookmark" color="danger"></ion-icon> -->
               <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>

    <span class="ticket-id">{{ ticket.ticketId }}</span>
  </div>

  <div class="ticket-title">{{ ticket.title }}</div>

  <div class="ticket-dates">
    <div class="dv">
      <label style="color:#B4B4B4 ;">Raised On</label>
      <span style="color: #717171;">{{ ticket.createdDate| date
              :'dd/MM/y' }}</span>
    </div>
    <div class="dv">
      <label style="color:#B4B4B4 ;">Escalates On</label>
      <span style="color: #717171;">{{ ticket.estimatedResolvedDate| date
                :'dd/MM/y' }}</span>
    </div>
    
  </div>
</div>
  <div (click)="gotoTicketDetails(ticket)" class="ticket-status" [ngClass]="ticket.status">
    <span>{{ ticket.status }}</span>
    <!-- <ion-button  fill="clear" size="small" > -->
<ion-icon name="arrow-forward-circle-sharp" [ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
  'closed': ticket.status === 'Closed',
   'reopen': ticket.status === 'ReOpen' 
}"></ion-icon>
    <!-- </ion-button> -->
  </div>
</div>
</ng-container>
 <ng-container *ngIf="activeSegment === 'in-progress'">
    <ng-container *ngFor="let ticket of ticketslist" >

<div  class="ticket-card" [ngClass]="ticket.status"  *ngIf="ticket.status === 'Inprogress'" >
    <div class="bgdiv" (click)="gotoTicketDetails(ticket)">
    <div class="ticket-header">
    <!-- <ion-icon name="bookmark" color="danger"></ion-icon> -->
               <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>

    <span class="ticket-id">{{ ticket.ticketId }}</span>
  </div>

  <div class="ticket-title">{{ ticket.title }}</div>

  <div class="ticket-dates">
    <div class="dv">
      <label style="color:#B4B4B4 ;">Raised On</label>
      <span style="color: #717171;">{{ ticket.createdDate| date
              :'dd/MM/y' }}</span>
    </div>
    <div class="dv">
      <label style="color:#B4B4B4 ;">Escalates On</label>
      <span style="color: #717171;">{{ ticket.estimatedResolvedDate| date
                :'dd/MM/y' }}</span>
    </div>
  </div>
</div>
  <div class="ticket-status" [ngClass]="ticket.status">
    <span>{{ ticket.status }}</span>
    <!-- <ion-button  fill="clear" size="small" > -->
<ion-icon name="arrow-forward-circle-sharp" [ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
   'closed': ticket.status === 'Closed',
    'reopen': ticket.status === 'ReOpen'
}"></ion-icon>
    <!-- </ion-button> -->
  </div>
</div>
</ng-container>
</ng-container>

 <ng-container *ngIf="activeSegment === 'reopen'">
    <ng-container *ngFor="let ticket of ticketslist" >

<div  class="ticket-card" [ngClass]="ticket.status"  *ngIf="ticket.status === 'ReOpen'" >
    <div class="bgdiv" (click)="gotoTicketDetails(ticket)">
    <div class="ticket-header">
    <!-- <ion-icon name="bookmark" color="danger"></ion-icon> -->
               <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>

    <span class="ticket-id">{{ ticket.ticketId }}</span>
  </div>

  <div class="ticket-title">{{ ticket.title }}</div>

  <div class="ticket-dates">
    <div class="dv">
      <label style="color:#B4B4B4 ;">Raised On</label>
      <span style="color: #717171;">{{ ticket.createdDate| date
              :'dd/MM/y' }}</span>
    </div>
    <div class="dv">
      <label style="color:#B4B4B4 ;">Escalates On</label>
      <span style="color: #717171;">{{ ticket.estimatedResolvedDate| date
                :'dd/MM/y' }}</span>
    </div>
  </div>
</div>
  <div class="ticket-status" [ngClass]="ticket.status">
    <span>{{ ticket.status }}</span>
    <!-- <ion-button  fill="clear" size="small" > -->
<ion-icon name="arrow-forward-circle-sharp" [ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
   'closed': ticket.status === 'Closed',
   'reopen': ticket.status === 'ReOpen'
}"></ion-icon>
    <!-- </ion-button> -->
  </div>
</div>
</ng-container>
</ng-container>



 <ng-container *ngIf="activeSegment === 'open'">
      <ng-container *ngFor="let ticket of ticketslist" >

  <div *ngIf="ticket.status === 'Open'" class="ticket-card" [ngClass]="ticket.status">
    <div class="bgdiv" (click)="gotoTicketDetails(ticket)">
    <div class="ticket-header">
    <!-- <ion-icon name="bookmark" color="danger"></ion-icon> -->
               <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>

    <span class="ticket-id">{{ ticket.ticketId }}</span>
  </div>

  <div class="ticket-title">{{ ticket.title }}</div>

  <div class="ticket-dates">
    <div class="dv">
      <label style="color:#B4B4B4 ;">Raised On</label>
      <span style="color: #717171;">{{ ticket.createdDate| date
              :'dd/MM/y' }}</span>
    </div>
    <div class="dv">
      <label style="color:#B4B4B4 ;">Escalates On</label>
      <span style="color: #717171;">{{ ticket.estimatedResolvedDate| date
                :'dd/MM/y' }}</span>
    </div>
  </div>
</div>
  <div class="ticket-status" [ngClass]="ticket.status">
    <span>{{ ticket.status }}</span>
    <!-- <ion-button  fill="clear" size="small" > -->
<ion-icon name="arrow-forward-circle-sharp" [ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
  'closed': ticket.status === 'Closed',
   'reopen': ticket.status === 'ReOpen'
}"></ion-icon>
    <!-- </ion-button> -->
  </div>
</div>
</ng-container>
</ng-container>



  <!-- Closed Tickets -->
  <ng-container *ngIf="activeSegment === 'closed'">
    <ng-container *ngFor="let ticket of ticketslist">
      <div *ngIf="ticket.status === 'Closed'" class="ticket-card" [ngClass]="ticket.status">
        <div class="bgdiv" (click)="gotoTicketDetails(ticket)">
          <div class="ticket-header">
            <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>
            <span class="ticket-id">{{ ticket.ticketId }}</span>
          </div>
          <div class="ticket-title">{{ ticket.title }}</div>
          <div class="ticket-dates">
            <div class="dv">
              <label style="color:#B4B4B4;">Raised On</label>
              <span style="color: #717171;">{{ ticket.createdDate | date:'dd/MM/y' }}</span>
            </div>
            <div class="dv">
              <label style="color:#B4B4B4;">Closed On</label>
              <span style="color: #717171;">{{ ticket.closedDate | date:'dd/MM/y' }}</span>
            </div>
          </div>
        </div>
        <div class="ticket-status" [ngClass]="ticket.status">
          <span>{{ ticket.status }}</span>
          <ion-icon name="arrow-forward-circle-sharp"[ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
  'closed': ticket.status === 'Closed',
   'reopen': ticket.status === 'ReOpen'
}"></ion-icon>
        </div>
      </div>
    </ng-container>
  </ng-container>


 <ng-container *ngIf="activeSegment === 'new'">
      <ng-container *ngFor="let ticket of ticketslist" >

  <div *ngIf="ticket.status === 'New'" class="ticket-card" [ngClass]="ticket.status" >
    <div class="bgdiv" (click)="gotoTicketDetails(ticket)">
    <div class="ticket-header">
    <!-- <ion-icon name="bookmark" color="danger"></ion-icon> -->
               <img class="wdth5" src="assets/imgs/dashboard_new/ticket.png"/>

    <span class="ticket-id">{{ ticket.ticketId }}</span>
  </div>

  <div class="ticket-title">{{ ticket.title }}</div>

  <div class="ticket-dates">
    <div class="dv">
      <label style="color:#B4B4B4 ;">Raised On</label>
      <span style="color: #717171;">{{ ticket.createdDate| date
              :'dd/MM/y' }}</span>
    </div>
    <div class="dv">
      <label style="color:#B4B4B4 ;">Escalates On</label>
      <span style="color: #717171;">{{ ticket.estimatedResolvedDate| date
                :'dd/MM/y' }}</span>
    </div>
  </div>
</div>
  <div class="ticket-status" [ngClass]="ticket.status">
    <span>{{ ticket.status }}</span>
    <!-- <ion-button  fill="clear" size="small" > -->
<ion-icon name="arrow-forward-circle-sharp" [ngClass]="{
  'inpro': ticket.status === 'Inprogress',
  'new': ticket.status === 'New',
  'open': ticket.status === 'Open',
  'closed': ticket.status === 'Closed',
  'reopen': ticket.status === 'ReOpen'
}"></ion-icon>
    <!-- </ion-button> -->
  </div>
</div>
</ng-container>
</ng-container>
</div>
<!-- Add New Ticket Button -->
<ion-button (click)="groupmdl()" expand="block" class="add-ticket-btn" shape="round">
  <ion-icon name="add" slot="start"></ion-icon>
  Add New Ticket
</ion-button>
</ion-content>



<ion-modal #groupmodal id="groupmodal" class="ion-modal">
<ng-template>

<!-- 
  <ion-header [translucent]="true">
  <ion-toolbar>
    <ion-row style="margin: 10px;width: 352px;">
      <ion-col size="2" style="display: flex;align-items: center;justify-content: start;">
        <div routerLink="/announcements-list">
          <ion-icon (click)="dismissModal()" style="font-size: 24px;
    border: 1px solid #d7d2d2;
    border-radius: 9px;
    padding: 5px;
" name="chevron-back-outline"></ion-icon>
        </div>

      </ion-col>
      <ion-col size="10" style="display: flex;align-items: center;">
        <label class="hdng">Raise Ticket</label>
      </ion-col>

    </ion-row>
  </ion-toolbar>
</ion-header> -->
<app-custom-toolbar [title]="'Raise Ticket'" [showBackButton]="false" (dismiss)="handleDismiss($event)"
 [showMenuButton]="false" [showThreeDots]="false" [isModal]="true" [modalName]="'groupmodal'"
></app-custom-toolbar>


<ion-content [fullscreen]="true">
  <ion-grid class="ppmt2">
    <!-- <ion-list lines="none" style="width: 98%;margin-left: 1%;margin-right: 1%;">
      <div style="width: 98%;margin-left: 1%;margin-right: 1%;">
        <span class="spancls">Choose Your Query<span style="color: orangered;">*</span> </span>
        <ion-item fill="outline" class="field-wrapper">
          <ion-select placeholder="Choose any one" aria-label="Select Company" style="min-width: 79vw!important;" id="companySelect" value="-1"
            interface="popover" >
            <ion-select-option >
              companyName 
            </ion-select-option>
          </ion-select>
        </ion-item>
      </div>
    </ion-list>

    <ion-list lines="none" style="width: 98%; margin-left: 1%; margin-right: 1%;">
      <div style="width: 98%; margin-left: 1%; margin-right: 1%;">
        <span class="spancls">Select Specifics<span style="color: orangered;">*</span></span>
        <ion-item fill="outline" class="field-wrapper">
          <ion-select placeholder="Choose any one" aria-label="Select Company" style="min-width: 79vw!important;" id="companySelect" value="-1"
            interface="popover" >
            <ion-select-option value="Group">Group</ion-select-option>
            <ion-select-option value="Company">Company</ion-select-option>
          </ion-select>
        </ion-item>
      </div>
    </ion-list> -->

    <!-- Group Names Section -->
    



    <ion-list lines="none" style="width: 98%; margin-left: 1%; margin-right: 1%;">
      <div style="width: 98%; margin-left: 1%; margin-right: 1%;">
        <span class="spancls">Choose Your Query<span style="color: orangered;">*</span></span>     
  <ion-item fill="outline" class="field-wrapper">
      <ion-select placeholder="Choose any one" [(ngModel)]="purposetype" (ionChange)="purposeChange($event)" style="min-width: 79vw!important;">
        <ion-select-option *ngFor="let item of mypurposeres" [value]="item">{{item.ticketMainType}}</ion-select-option>
      </ion-select>
      </ion-item>
      </div>
      </ion-list>

    <ion-list lines="none" style="width: 98%; margin-left: 1%; margin-right: 1%;">
      <div style="width: 98%; margin-left: 1%; margin-right: 1%;">
        <span class="spancls">Select Specifics<span style="color: orangered;">*</span></span>
        <ion-item fill="outline" class="field-wrapper">

      <ion-select placeholder="Choose any one" [(ngModel)]="subpurposetype" (ionChange)="onchange($event)" style="min-width: 79vw!important;">
        <ion-select-option *ngFor="let item of mySubPurposeType"
          [value]="item.ticketTypeId+','+item.ticketType+','+item.resolutionDayTime">{{item.ticketType}}</ion-select-option>
      </ion-select>
      </ion-item>
      </div>
      </ion-list>

    <ion-grid>



      <ion-grid style="border: 1px solid #D0D5DD;height: 173px;
           width: 96%; margin-top: 22px;border-radius: 16px;">
        <span style="top: -31px;left: -5px;" class="spancls">Description<span
            style="color: orangered;">*</span></span>
        <ion-row>
          <ion-col size="12">
            <ion-textarea [(ngModel)]="mesag"     fill="outline" 
        id="create-textarea" 
        autocomplete="on" 
        autocorrect="on"
        capitalize="on"
        spellcheck="true"
        autocapitalize="sentences" placeholder="Describe Your Problem"
            style="border:none;white-space: pre-wrap;--padding-bottom: 60px;" ></ion-textarea>
          </ion-col>
        </ion-row>

      </ion-grid>

      
    </ion-grid>
  </ion-grid>


  <!-- Upload Options -->
  <div class="upload-section pppx5">
    <div  class="upload-box"  (click)='fileInput.click()'  >
      <span class="hidden-file">
          <!-- <input type="file" #fileInput ng2FileSelect [uploader]="uploader" (change)="onFileSelected($event)"
            accept="'image'" (click)="fileInput.value = ''" /> -->
            <input type="file"
       #fileInput
       (change)="onFileSelected($event)"
       accept="image/*"
       multiple
       (click)="fileInput.value = ''" />


        </span>
      <ion-icon  name="cloud-upload-outline"></ion-icon>
      <p  class="upload-text">Click to upload</p>
      <small>PNG, JPG (max. 5Mb)</small>
    </div>
    <div (click)="selectImage('camera')" class="upload-box">
      <ion-icon name="camera-outline"></ion-icon>
      <p class="upload-text">Click Image</p>
    </div>
  </div>


    <div *ngIf="maincontroller?.length" class="ppmb30">
  <div *ngFor="let p of maincontroller; let i = index;"
       style="border: 1px solid #e0c3c3;
    border-radius: 6px;
    width: 89%;
    padding: 10px;
    justify-self: center;
    gap: 10px;
    display: flex;
    margin-bottom: 10px;box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);">
    
    <!-- Image preview with click to open modal -->
    <img [src]="p.base64"
         alt="Selected Image"
         (click)="openSliderEditor(maincontroller, i, false)"
         style="width: 40px; height: 30px; object-fit: cover; border-radius: 5px; border: 1px solid #ccc; cursor: pointer;" />

    <!-- Image name -->
    <span class="my__textoverflow" style="flex: 1; color: #2C4DB9; font-weight: 500;">
      {{ p.name }}
    </span>

    <!-- Remove icon -->
    <ion-icon name="close-circle"
              style="font-size: 20px; color: rgb(68, 0, 255); cursor: pointer;"
              (click)="removeItem1(i)">
    </ion-icon>
  </div>
</div>   
<ion-button (click)="submitFun()" expand="block" class="add-ticket-btn" shape="round">
  Submit
</ion-button>
</ion-content>
    <!-- <ion-footer>
      <ion-row class="form-row">
        <ion-col size="12">
          <ion-button (click)="submitFun()" class="tlbar" expand="block">
            Submit
          </ion-button>
        </ion-col>
      </ion-row>
  </ion-footer> -->


</ng-template>

</ion-modal>