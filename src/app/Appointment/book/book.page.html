<app-custom-toolbar [title]="'Appointment'" [showBackButton]="true"
  [showMenuButton]="false" [showThreeDots]="false" [backUrl]="'/dashboard'">
</app-custom-toolbar>

<ion-content>
  <div class="top-banner">
    <!-- Banner Image and title -->
  </div>
  <div class="finance-page pppx2">
  <ion-segment [(ngModel)]="selectedSegment" class="custom-segment">
    <ion-segment-button value="my">
      My Appointments
    </ion-segment-button>
    <ion-segment-button value="book">
      Book Your Appointment
    </ion-segment-button>
  </ion-segment>
</div>
  <div *ngIf="selectedSegment === 'my'">
    <ion-card *ngFor="let appointment of appointments">
      <ion-item routerLink="/book-view">
        <ion-icon slot="start" name="pricetag" color="danger"></ion-icon>
        <ion-label>
          <h2 style="font-size: 15px;">Appointment Date : {{appointment.date}}</h2>
          <h3>Appointment Time: {{appointment.time}}</h3>
          <h4>Status: {{appointment.status}}</h4>
        </ion-label>
        <ion-icon name="arrow-forward-circle-sharp" class="arrow"></ion-icon>
      </ion-item>
    </ion-card>
  </div>

  <div *ngIf="selectedSegment === 'book'">
    <form (ngSubmit)="openModal()">
      <ion-item>
        <ion-label>Select Appointment For*</ion-label>
        <ion-select [(ngModel)]="booking.appointmentFor" name="appointmentFor" required>
          <ion-select-option value="Interest Related clarification">Interest Related clarification</ion-select-option>
          <ion-select-option value="Loan Related clarification">Loan Related clarification</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-item>
        <ion-label>Select Month*</ion-label>
        <ion-select [(ngModel)]="booking.month" name="month" required>
          <ion-select-option value="May">May</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-button expand="block" class="submit-btn" type="submit">BOOK APPOINTMENT</ion-button>
    </form>
  </div>

  <!-- Ion Modal -->
<ion-modal [isOpen]="showModal" (didDismiss)="closeModal()">
    <ng-template>
      <div class="modal-content">
        <ion-list>
          <ion-item>
            <ion-label>Select slot date*</ion-label>
          </ion-item>
          <div class="slot-dates">
            <ion-button *ngFor="let d of slotDates"
                        [color]="booking.slotDate === d.date ? 'danger' : 'light'"
                        (click)="booking.slotDate = d.date">
              {{d.day}}<br>{{d.date}}
            </ion-button>
          </div>
          <ion-item>
            <ion-label>Select slot time*</ion-label>
          </ion-item>
          <div class="slot-times">
            <ion-button *ngFor="let t of slotTimes"
                        [color]="booking.slotTime === t ? 'danger' : 'light'"
                        (click)="booking.slotTime = t">
              {{t}}
            </ion-button>
          </div>
          <ion-item>
            <ion-textarea placeholder="Some Information about Appointment"></ion-textarea>
          </ion-item>
        </ion-list>
        <ion-button expand="block" class="submit-btn" (click)="closeModal()">PROCEED TO CHECKOUT</ion-button>
      </div>
    </ng-template>
  </ion-modal>
</ion-content>
